<!-- cards.html -->
<!-- A card matching game, where I flip 2 cards
- If they match, I get points
- If they dont, I lose points

- The faster I play, the more points I get
- I only have 30 seconds to play
 -->
<!DOCTYPE html>
<html>
<head>
  <title>Card Game</title>
  <link rel="stylesheet" href="card.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js"></script>
</head>
<body>

  <h1>Time Left: 30 Seconds</h1>
  <h2>Score: 0 points</h2>
  <div class="container">
    <div class="card fb" onclick="flipCard(this)">
      <div class="back">
        <img src="http://www.clipartkid.com/images/750/group-people-icon-clipart-PoxHR0-clipart.jpeg">
      </div>
      <div class="front">
        <img src="https://facebookbrand.com/wp-content/themes/fb-branding/prj-fb-branding/assets/images/fb-art.png">
      </div>
    </div>
    <div class="card fb" onclick="flipCard(this)">
      <div class="back">
        <img src="http://www.clipartkid.com/images/750/group-people-icon-clipart-PoxHR0-clipart.jpeg">
      </div>
      <div class="front">
        <img src="https://facebookbrand.com/wp-content/themes/fb-branding/prj-fb-branding/assets/images/fb-art.png">
      </div>
    </div>

    <div class="card twitter" onclick="flipCard(this)">
      <div class="back">
        <img src="http://www.clipartkid.com/images/750/group-people-icon-clipart-PoxHR0-clipart.jpeg">
      </div>
      <div class="front">
        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/9/9f/Twitter_bird_logo_2012.svg/1259px-Twitter_bird_logo_2012.svg.png">
      </div>
    </div>
    <div class="card twitter" onclick="flipCard(this)">
      <div class="back">
        <img src="http://www.clipartkid.com/images/750/group-people-icon-clipart-PoxHR0-clipart.jpeg">
      </div>
      <div class="front">
        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/9/9f/Twitter_bird_logo_2012.svg/1259px-Twitter_bird_logo_2012.svg.png">
      </div>
    </div>

    <div class="card mp" onclick="flipCard(this)">
      <div class="back">
        <img src="http://www.clipartkid.com/images/750/group-people-icon-clipart-PoxHR0-clipart.jpeg">
      </div>
      <div class="front">
        <img src="http://logodatabases.com/wp-content/uploads/2012/03/myspace-logo-1024x1024.jpg">
      </div>
    </div>
    <div class="card mp" onclick="flipCard(this)">
      <div class="back">
        <img src="http://www.clipartkid.com/images/750/group-people-icon-clipart-PoxHR0-clipart.jpeg">
      </div>
      <div class="front">
        <img src="http://logodatabases.com/wp-content/uploads/2012/03/myspace-logo-1024x1024.jpg">
      </div>
    </div>

    <div class="card gp" onclick="flipCard(this)">
      <div class="back">
        <img src="http://www.clipartkid.com/images/750/group-people-icon-clipart-PoxHR0-clipart.jpeg">
      </div>
      <div class="front">
        <img src="http://www.mrbusinessgolf.com/wp-content/uploads/2012/10/Google-plus-logo.png">
      </div>
    </div>
    <div class="card gp" onclick="flipCard(this)">
      <div class="back">
        <img src="http://www.clipartkid.com/images/750/group-people-icon-clipart-PoxHR0-clipart.jpeg">
      </div>
      <div class="front">
        <img src="http://www.mrbusinessgolf.com/wp-content/uploads/2012/10/Google-plus-logo.png">
      </div>
    </div>

    <div class="card fb" onclick="flipCard(this)">
      <div class="back">
        <img src="http://www.clipartkid.com/images/750/group-people-icon-clipart-PoxHR0-clipart.jpeg">
      </div>
      <div class="front">
        <img src="https://facebookbrand.com/wp-content/themes/fb-branding/prj-fb-branding/assets/images/fb-art.png">
      </div>
    </div>
    <div class="card fb" onclick="flipCard(this)">
      <div class="back">
        <img src="http://www.clipartkid.com/images/750/group-people-icon-clipart-PoxHR0-clipart.jpeg">
      </div>
      <div class="front">
        <img src="https://facebookbrand.com/wp-content/themes/fb-branding/prj-fb-branding/assets/images/fb-art.png">
      </div>
    </div>

    <div class="card twitter" onclick="flipCard(this)">
      <div class="back">
        <img src="http://www.clipartkid.com/images/750/group-people-icon-clipart-PoxHR0-clipart.jpeg">
      </div>
      <div class="front">
        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/9/9f/Twitter_bird_logo_2012.svg/1259px-Twitter_bird_logo_2012.svg.png">
      </div>
    </div>
    <div class="card twitter" onclick="flipCard(this)">
      <div class="back">
        <img src="http://www.clipartkid.com/images/750/group-people-icon-clipart-PoxHR0-clipart.jpeg">
      </div>
      <div class="front">
        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/9/9f/Twitter_bird_logo_2012.svg/1259px-Twitter_bird_logo_2012.svg.png">
      </div>
    </div>

    <div class="card mp" onclick="flipCard(this)">
      <div class="back">
        <img src="http://www.clipartkid.com/images/750/group-people-icon-clipart-PoxHR0-clipart.jpeg">
      </div>
      <div class="front">
        <img src="http://logodatabases.com/wp-content/uploads/2012/03/myspace-logo-1024x1024.jpg">
      </div>
    </div>
    <div class="card mp" onclick="flipCard(this)">
      <div class="back">
        <img src="http://www.clipartkid.com/images/750/group-people-icon-clipart-PoxHR0-clipart.jpeg">
      </div>
      <div class="front">
        <img src="http://logodatabases.com/wp-content/uploads/2012/03/myspace-logo-1024x1024.jpg">
      </div>
    </div>

    <div class="card gp" onclick="flipCard(this)">
      <div class="back">
        <img src="http://www.clipartkid.com/images/750/group-people-icon-clipart-PoxHR0-clipart.jpeg">
      </div>
      <div class="front">
        <img src="http://www.mrbusinessgolf.com/wp-content/uploads/2012/10/Google-plus-logo.png">
      </div>
    </div>
    <div class="card gp" onclick="flipCard(this)">
      <div class="back">
        <img src="http://www.clipartkid.com/images/750/group-people-icon-clipart-PoxHR0-clipart.jpeg">
      </div>
      <div class="front">
        <img src="http://www.mrbusinessgolf.com/wp-content/uploads/2012/10/Google-plus-logo.png">
      </div>
    </div>
  </div>
  <script>

    // When the page loads, get all the cards
    var cards = document.querySelectorAll('.card');
    // Shuffle the order
    cards = Array.from(cards).sort(() => {
      if(Math.random() > Math.random()) {
        return 1;
      } else {
        return -1;
      }
    });
    // Put them all back
    var container = document.querySelector('.container');
    container.innerHTML = '';
    cards.forEach(card => container.append(card));



    // by default, make sure the front is flipped
    TweenMax.set(
      document.querySelectorAll('.front'),
      {rotationY: 180}
    );



    function flipCard(card) {
      if(secondsLeft == 0) {
        return;
      }

      // (card) = a variable that is passed in
      // no need to: var card = document.query...etc
      var front = card.children[1];
      TweenMax.to(card, 0.5, {
        rotationY: 180
      });
      TweenMax.to(front, 0.5, {rotationY: 0});

      if(gameIsStarted == false) {
        startGame();
        gameIsStarted = true;
      }

      // Perform game logic (inside flipCard function)
      if(cardOne == null) {
        cardOne = card;
      } else {
        // selected second card
        cardTwo = card;

        if(cardOne.className == cardTwo.className) {
          // add score
          score = score + 1000;
          // alert('Correct!');
        } else {
          // alert('Incorrect!');
          // subtract score
          score = score - 200;
          //flip cards over
          flipCardBack(cardOne);
          flipCardBack(cardTwo);
        }
        // tell js to forget which cards i clicked
        cardOne = null;
        cardTwo = null;

        // update the score
        document.querySelector('h2').innerHTML = 'Score: ' + score + ' points';
      }
     }

    // OUTSIDE ALL FUNCTIONS
    var secondsLeft = 30;
    var gameIsStarted = false;
    var cardOne = null;
    var cardTwo = null;
    var score = 0;

    function startGame() {
      var interval = setInterval(function(){
        // set interval runs code every
        // x milliseconds
        secondsLeft = secondsLeft - 1;
        var h1 = document.querySelector('h1');
        h1.innerHTML = 'Time Left: ' + secondsLeft + ' Seconds';

        if(secondsLeft == 0) {
          alert('Game Over!');
          clearInterval(interval); // stops a setInterval
        }
      }, 1000);
    }


    function flipCardBack(card) {
      setTimeout(() => {
        var front = card.children[1];
        TweenMax.to(card, 0.5, {
          rotationY: 0
        });
        TweenMax.to(front, 0.5, {rotationY: 180});
      }, 1500);
    }
  </script>

</body>
</html>








.
