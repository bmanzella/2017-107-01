<!-- cards.html -->
<html>
  <head>
    <title>Card Game</title>
    <link rel="stylesheet" href="cards.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js"></script>
  </head>

  <body>

    <h1>Time left: 30 seconds</h1>
    <h2>Score: 0 points</h2>
    <div class="table">
    <div class="card gp" onclick="flip(this)">
      <div class="back">
        <img src="http://icons.iconarchive.com/icons/graphicloads/100-flat-2/256/chat-2-icon.png">
      </div>
      <div class="face">
        <img src="http://seeklogo.com/images/G/google-google-plus-logo-8ABA7B7012-seeklogo.com.gif">
      </div>
    </div>
    <div class="card gp" onclick="flip(this)">
      <div class="back">
        <img src="http://icons.iconarchive.com/icons/graphicloads/100-flat-2/256/chat-2-icon.png">
      </div>
      <div class="face">
        <img src="http://seeklogo.com/images/G/google-google-plus-logo-8ABA7B7012-seeklogo.com.gif">
      </div>
    </div>
    <div class="card sc" onclick="flip(this)">
      <div class="back">
        <img src="http://icons.iconarchive.com/icons/graphicloads/100-flat-2/256/chat-2-icon.png">
      </div>
      <div class="face">
        <img src="http://seeklogo.com/images/S/snapchat-logo-178D29F75B-seeklogo.com.png">
      </div>
    </div>
    <div class="card sc" onclick="flip(this)">
      <div class="back">
        <img src="http://icons.iconarchive.com/icons/graphicloads/100-flat-2/256/chat-2-icon.png">
      </div>
      <div class="face">
        <img src="http://seeklogo.com/images/S/snapchat-logo-178D29F75B-seeklogo.com.png">
      </div>
    </div>
    <div class="card fs" onclick="flip(this)">
      <div class="back">
        <img src="http://icons.iconarchive.com/icons/graphicloads/100-flat-2/256/chat-2-icon.png">
      </div>
      <div class="face">
        <img src="http://www.findmysoft.com/img/news/inside/Foursquare-new-logo_1406188551.jpg">
      </div>
    </div>
    <div class="card fs" onclick="flip(this)">
      <div class="back">
        <img src="http://icons.iconarchive.com/icons/graphicloads/100-flat-2/256/chat-2-icon.png">
      </div>
      <div class="face">
        <img src="http://www.findmysoft.com/img/news/inside/Foursquare-new-logo_1406188551.jpg">
      </div>
    </div>
    <div class="card twitter" onclick="flip(this)">
      <div class="back">
        <img src="http://icons.iconarchive.com/icons/graphicloads/100-flat-2/256/chat-2-icon.png">
      </div>
      <div class="face">
        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/9/9f/Twitter_bird_logo_2012.svg/1259px-Twitter_bird_logo_2012.svg.png">
      </div>
    </div>
    <div class="card twitter" onclick="flip(this)">
      <div class="back">
        <img src="http://icons.iconarchive.com/icons/graphicloads/100-flat-2/256/chat-2-icon.png">
      </div>
      <div class="face">
        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/9/9f/Twitter_bird_logo_2012.svg/1259px-Twitter_bird_logo_2012.svg.png">
      </div>
    </div>
    <div class="card ms" onclick="flip(this)">
      <div class="back">
        <img src="http://icons.iconarchive.com/icons/graphicloads/100-flat-2/256/chat-2-icon.png">
      </div>
      <div class="face">
        <img src="https://www.brandsoftheworld.com/sites/default/files/styles/logo-thumbnail/public/092010/logo_myspace_0.gif?itok=Is8aGvRb">
      </div>
    </div>
    <div class="card ms" onclick="flip(this)">
      <div class="back">
        <img src="http://icons.iconarchive.com/icons/graphicloads/100-flat-2/256/chat-2-icon.png">
      </div>
      <div class="face">
        <img src="https://www.brandsoftheworld.com/sites/default/files/styles/logo-thumbnail/public/092010/logo_myspace_0.gif?itok=Is8aGvRb">
      </div>
    </div>
    <div class="card is" onclick="flip(this)">
      <div class="back">
        <img src="http://icons.iconarchive.com/icons/graphicloads/100-flat-2/256/chat-2-icon.png">
      </div>
      <div class="face">
        <img src="https://img.clipartfest.com/49803d8eb5ea235a5860ac942caece70_download-png-download-eps-instagram-logo-clipart-png_1024-1024.png">
      </div>
    </div>
    <div class="card is" onclick="flip(this)">
      <div class="back">
        <img src="http://icons.iconarchive.com/icons/graphicloads/100-flat-2/256/chat-2-icon.png">
      </div>
      <div class="face">
        <img src="https://img.clipartfest.com/49803d8eb5ea235a5860ac942caece70_download-png-download-eps-instagram-logo-clipart-png_1024-1024.png">
      </div>
    </div>
    <div class="card pint" onclick="flip(this)">
      <div class="back">
        <img src="http://icons.iconarchive.com/icons/graphicloads/100-flat-2/256/chat-2-icon.png">
      </div>
      <div class="face">
        <img src="http://seeklogo.com/images/P/pinterest-icon-logo-D4965B6748-seeklogo.com.gif">
      </div>
    </div>
    <div class="card pint" onclick="flip(this)">
      <div class="back">
        <img src="http://icons.iconarchive.com/icons/graphicloads/100-flat-2/256/chat-2-icon.png">
      </div>
      <div class="face">
        <img src="http://seeklogo.com/images/P/pinterest-icon-logo-D4965B6748-seeklogo.com.gif">
      </div>
    </div>
    <div class="card fb" onclick="flip(this)">
      <div class="back">
        <img src="http://icons.iconarchive.com/icons/graphicloads/100-flat-2/256/chat-2-icon.png">
      </div>
      <div class="face">
        <img src="https://facebookbrand.com/wp-content/themes/fb-branding/prj-fb-branding/assets/images/fb-art.png">
      </div>
    </div>
    <div class="card fb" onclick="flip(this)">
      <div class="back">
        <img src="http://icons.iconarchive.com/icons/graphicloads/100-flat-2/256/chat-2-icon.png">
      </div>
      <div class="face">
        <img src="https://facebookbrand.com/wp-content/themes/fb-branding/prj-fb-branding/assets/images/fb-art.png">
      </div>
    </div>

  </div> <!-- Closing tag for .table -->
    <script>

    /// Things the dealer knows: aka JS knows
    var score = 0;
    var cardOne = null;
    var cardTwo = null;

    // Pick up all the cards
    var cards = document.querySelectorAll('.card');
    var table = document.querySelector('.table');
    table.innerHTML = '';

    // Shuffle the order
    cards = Array.from(cards).sort(function() {
      if(Math.random() > Math.random()) {
        return 1;
      } else {
        return -1;
      }
    });


    // put them back down
    cards.forEach(card => table.append(card));




    // by default, flip the face over
    TweenMax.set(
      document.querySelectorAll('.face'),
      {rotationY: 180}
    );

    // Start the timer
    var secondsLeft = 30;
    var timer = setInterval(() => {
      secondsLeft = secondsLeft - 1;
      var h1 = document.querySelector('h1');
      h1.innerHTML = 'Time left: ' + secondsLeft + ' seconds';

      if(secondsLeft == 0) {
        // stop the timer
        clearInterval(timer);
        // Say game over
        alert('Game Over!');
      }

    }, 1000);


    function flip(card) {
      if(secondsLeft == 0) {
        return;
      }

      // (card) = a variable of the card html
      // we don't need var card = document.query......

      // flip it
      var face = card.children[1];
      TweenMax.to(card, 0.5, { rotationY: 180});
      TweenMax.to(face, 0.5, {rotationY: 0});

      // if no cards have been clicked:
      if(cardOne == null) {
        cardOne = card;
      } else {
        cardTwo = card;

        // if the card classes match, give points!
        if(cardOne.className == cardTwo.className) {
          score = score + 1000;
        } else {
          score = score - 100;
          // turn the cards back over
          flipBack(cardOne);
          flipBack(cardTwo);
        }
        // update the score display
        document.querySelector('h2').innerHTML = 'Score: ' + score + ' points';
        // reset which cards I remember
        cardOne = null;
        cardTwo = null;
      }
    }

    function flipBack(card) {
      setTimeout(() => {
        //after 1.5seconds, flip it back
        var face = card.children[1];
        TweenMax.to(card, 0.5, { rotationY: 0});
        TweenMax.to(face, 0.5, {rotationY: 180});
      }, 1500);
    }


    </script>

  </body>
</html>
